{"ast":null,"code":"import{useEffect,useReducer,useState}from\"react\";import axios from\"axios\";import Error from\"./Error\";import Loading from\"./Loading\";import StartScreen from\"./StartScreen\";import Main from\"./Main\";import Questions from\"./Questions\";import Header from\"./Header\";import ResultsScreen from\"./ResultsScreen\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initState={questions:[],status:\"loading\",catIndex:0,questionIndex:0,selectedAnswer:null,submittedAnswer:false,correctAnswerIndex:null,points:0};function reducer(state,action){switch(action.type){case\"dataReceived\":console.log(action.payload);return{...state,status:\"ready\",questions:action.payload};case\"dataFailed\":return{...state,status:\"error\"};case\"startGame\":return{...state,status:\"running\",catIndex:action.payload};case\"setAnswer\":return{...state,selectedAnswer:action.payload.answer,correctAnswerIndex:action.payload.currCorrectAnswer};case\"submitAnswer\":return{...state,submittedAnswer:true,points:state.correctAnswerIndex===state.selectedAnswer?state.points+1:state.points};case\"nextQuestion\":return{...state,selectedAnswer:null,submittedAnswer:false,questionIndex:state.questionIndex+1};case\"gameCompleted\":return{...state,status:\"completed\"};case\"resetGame\":return{...state,status:\"ready\",points:0,catIndex:0,questionIndex:0,submittedAnswer:false,correctAnswerIndex:null,selectedAnswer:null};default:throw new Error(\"Action not recognized\");}}function App(){const[{questions,status,catIndex,questionIndex,selectedAnswer,submittedAnswer,points},dispatch]=useReducer(reducer,initState);useEffect(()=>{// fetch(\"http://localhost:8080/quizzes\")\n//   .then((res) => res.json())\n//   .then((data) => dispatch({ type: \"dataReceived\", payload: data }))\n//   .catch((err) => dispatch({ type: \"dataFailed\" }));\naxios.get(\"http://localhost:5000/data/data.json\").then(response=>{console.log(response);dispatch({type:\"dataReceived\",payload:response.data.quizzes});}).catch(error=>{dispatch({type:\"dataFailed\"});});},[]);const[colorScheme,setColorScheme]=useState(\"light\");const numQuestions=questions[catIndex]?questions[catIndex].questions.length:0;return/*#__PURE__*/_jsxs(\"div\",{className:\"App \".concat(colorScheme),children:[/*#__PURE__*/_jsx(Header,{status:status,questions:questions,catIndex:catIndex,setColorScheme:setColorScheme,colorScheme:colorScheme}),/*#__PURE__*/_jsxs(Main,{children:[status===\"loading\"&&/*#__PURE__*/_jsx(Loading,{}),status===\"error\"&&/*#__PURE__*/_jsx(Error,{}),status===\"ready\"&&/*#__PURE__*/_jsx(StartScreen,{questions:questions,dispatch:dispatch}),status===\"running\"&&/*#__PURE__*/_jsx(Questions,{questions:questions[catIndex].questions[questionIndex],numQuestions:numQuestions,questionIndex:questionIndex,dispatch:dispatch,selectedAnswer:selectedAnswer,submittedAnswer:submittedAnswer}),status===\"completed\"&&/*#__PURE__*/_jsx(ResultsScreen,{points:points,numQuestions:numQuestions,catIndex:catIndex,questions:questions,dispatch:dispatch})]})]});}export default App;","map":{"version":3,"names":["useEffect","useReducer","useState","axios","Error","Loading","StartScreen","Main","Questions","Header","ResultsScreen","jsx","_jsx","jsxs","_jsxs","initState","questions","status","catIndex","questionIndex","selectedAnswer","submittedAnswer","correctAnswerIndex","points","reducer","state","action","type","console","log","payload","answer","currCorrectAnswer","App","dispatch","get","then","response","data","quizzes","catch","error","colorScheme","setColorScheme","numQuestions","length","className","concat","children"],"sources":["C:/Users/sasha/Downloads/React/react-quiz-app-master/frontend/src/components/App.js"],"sourcesContent":["import { useEffect, useReducer, useState } from \"react\";\nimport axios from \"axios\";\nimport Error from \"./Error\";\nimport Loading from \"./Loading\";\nimport StartScreen from \"./StartScreen\";\nimport Main from \"./Main\";\nimport Questions from \"./Questions\";\nimport Header from \"./Header\";\nimport ResultsScreen from \"./ResultsScreen\";\n\nconst initState = {\n  questions: [],\n  status: \"loading\",\n  catIndex: 0,\n  questionIndex: 0,\n  selectedAnswer: null,\n  submittedAnswer: false,\n  correctAnswerIndex: null,\n  points: 0,\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case \"dataReceived\":\n      console.log(action.payload);\n      return { ...state, status: \"ready\", questions: action.payload };\n    case \"dataFailed\":\n      return { ...state, status: \"error\" };\n    case \"startGame\":\n      return { ...state, status: \"running\", catIndex: action.payload };\n    case \"setAnswer\":\n      return {\n        ...state,\n        selectedAnswer: action.payload.answer,\n        correctAnswerIndex: action.payload.currCorrectAnswer,\n      };\n    case \"submitAnswer\":\n      return {\n        ...state,\n        submittedAnswer: true,\n        points:\n          state.correctAnswerIndex === state.selectedAnswer\n            ? state.points + 1\n            : state.points,\n      };\n    case \"nextQuestion\":\n      return {\n        ...state,\n        selectedAnswer: null,\n        submittedAnswer: false,\n        questionIndex: state.questionIndex + 1,\n      };\n    case \"gameCompleted\":\n      return { ...state, status: \"completed\" };\n    case \"resetGame\":\n      return {\n        ...state,\n        status: \"ready\",\n        points: 0,\n        catIndex: 0,\n        questionIndex: 0,\n        submittedAnswer: false,\n        correctAnswerIndex: null,\n        selectedAnswer: null,\n      };\n    default:\n      throw new Error(\"Action not recognized\");\n  }\n}\n\nfunction App() {\n  const [\n    {\n      questions,\n      status,\n      catIndex,\n      questionIndex,\n      selectedAnswer,\n      submittedAnswer,\n      points,\n    },\n    dispatch,\n  ] = useReducer(reducer, initState);\n\n  useEffect(() => {\n    // fetch(\"http://localhost:8080/quizzes\")\n    //   .then((res) => res.json())\n    //   .then((data) => dispatch({ type: \"dataReceived\", payload: data }))\n    //   .catch((err) => dispatch({ type: \"dataFailed\" }));\n\n    axios\n      .get(\"http://localhost:5000/data/data.json\")\n      .then((response) => {\n        console.log(response);\n        dispatch({ type: \"dataReceived\", payload: response.data.quizzes });\n      })\n      .catch((error) => {\n        dispatch({ type: \"dataFailed\" });\n      });\n  }, []);\n\n  const [colorScheme, setColorScheme] = useState(\"light\");\n\n  const numQuestions = questions[catIndex]\n    ? questions[catIndex].questions.length\n    : 0;\n\n  return (\n    <div className={`App ${colorScheme}`}>\n      <Header\n        status={status}\n        questions={questions}\n        catIndex={catIndex}\n        setColorScheme={setColorScheme}\n        colorScheme={colorScheme}\n      />\n      <Main>\n        {status === \"loading\" && <Loading />}\n        {status === \"error\" && <Error />}\n        {status === \"ready\" && (\n          <StartScreen questions={questions} dispatch={dispatch} />\n        )}\n        {status === \"running\" && (\n          <Questions\n            questions={questions[catIndex].questions[questionIndex]}\n            numQuestions={numQuestions}\n            questionIndex={questionIndex}\n            dispatch={dispatch}\n            selectedAnswer={selectedAnswer}\n            submittedAnswer={submittedAnswer}\n          />\n        )}\n        {status === \"completed\" && (\n          <ResultsScreen\n            points={points}\n            numQuestions={numQuestions}\n            catIndex={catIndex}\n            questions={questions}\n            dispatch={dispatch}\n          />\n        )}\n      </Main>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}